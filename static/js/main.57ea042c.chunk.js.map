{"version":3,"sources":["views/Home.js","fetchRequests.js","store/index.js","views/Login.js","components/UserCard.js","views/Users.js","views/User.js","App.js","index.js"],"names":["Home","baseURL","LOGIN","useStore","create","persist","devtools","redux","state","action","type","user","payload","token","messages","Login","props","dispatch","useState","username","password","formData","setFormData","handleChange","e","inputName","target","name","inputValue","value","handleMessage","event","console","log","useEffect","window","addEventListener","removeEventListener","id","onSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","then","res","json","userData","htmlFor","autoFocus","required","onChange","onClick","open","UserCard","history","useHistory","Card","style","width","Body","Title","Text","displayName","about","createdAt","Button","push","variant","Users","users","setUsers","data","map","User","match","authUser","setUser","setDisplayName","setAbout","picture","setPicture","params","Container","Form","newUserInfo","Authorization","patchUser","Group","controlId","Label","Control","placeholder","files","pictureData","FormData","append","putUserPicture","response","src","pictureLocation","App","className","Navbar","bg","expand","Brand","Nav","Link","href","exact","path","component","render","ReactDOM","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.57ea042c.chunk.js","sourcesContent":["function Home() {\n  return (\n    <h1>Welcome Home</h1>\n  )\n}\n\nexport default Home;\n","const baseURL = \"https://socialapp-api.herokuapp.com/\";\n\nexport const loginRequest = (username, password) => {\n  return fetch(baseURL + \"auth/login\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({\n      username,\n      password,\n    }),\n  })\n    .then((res) => res.json())\n};\n\nexport const logoutRequest = (token) => {\n  return fetch(baseURL + \"auth/logout\", {\n    headers: { Authorization: \"Bearer \" + token },\n  }).then((res) => res.json());\n};\n\nexport const getUsers = () => {\n  return fetch(baseURL + 'users')\n    .then((res) => res.json());\n}\n\nexport const getUser = (username) => {\n  return fetch(baseURL + `users/${username}`)\n    .then((res) => res.json());\n}\n\nexport const patchUser = (token, username, newUserInfo) => {\n  return fetch(baseURL + `users/${username}`, {\n    method: \"PATCH\",\n    headers: {\n      Authorization: \"Bearer \" + token,\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(newUserInfo),\n  }).then((res) => res.json());\n}\n\nexport const putUserPicture = (token, username, pictureData) => {\n    let formData = new FormData()\n    formData.append(\"picture\", pictureData)\n    return fetch(baseURL + `users/${username}/picture`, {\n      method: \"PUT\",\n      headers: {\n        Authorization: \"Bearer \" + token,\n        \"Content-Type\":\"multipart/form-data\"\n      },\n      body: formData,\n    }).then((res) => res.json());\n  }\n","import create from \"zustand\";\nimport { devtools, redux, persist } from \"zustand/middleware\";\n\n// define the store's initial state\nconst initialState = { user: {token: \"\"}, messages: [] };\n\n// set action types\nexport const LOGIN = \"LOGIN\";\nexport const LOGOUT = \"LOGOUT\";\n\n// define reducer function\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case LOGIN:\n      return { user: action.payload };\n    case LOGOUT:\n      return { user: {} };\n    default:\n      return state;\n  }\n};\n\n// create useStore hook\nexport const useStore = create(persist(devtools(redux(reducer, initialState))))\n","import React, { useEffect, useState } from \"react\";\nimport { loginRequest } from \"../fetchRequests\";\n\nimport { LOGIN, useStore } from \"../store\";\n\nfunction Login(props){\n  const dispatch = useStore((state) => state.dispatch);\n\n  const [formData, setFormData] = useState({\n    username: \"\",\n    password: \"\",\n  });\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n    loginRequest(formData.username, formData.password).then((userData) =>\n      dispatch({ type: LOGIN, payload: userData })\n    );\n  };\n\n  const handleChange = (e) => {\n    const inputName = e.target.name;\n    const inputValue = e.target.value;\n    setFormData((state) => ({ ...state, [inputName]: inputValue }));\n  };\n\n  useEffect(()=>{\n      window.addEventListener('message', handleMessage)\n      return ()=>{\n          window.removeEventListener('message', handleMessage)\n      }\n  }, [])\n\n  function handleMessage(event){\n    console.log(event)\n  }\n\n  function handleGoogleLogin(e){\n    window.open(\"https://socialapp-api.herokuapp.com/auth/google/login\")\n  }\n\n  return (\n    <>\n      <form id=\"login-form\" onSubmit={handleLogin}>\n        <label htmlFor=\"username\">Username</label>\n        <input\n          type=\"text\"\n          name=\"username\"\n          value={formData.username}\n          autoFocus\n          required\n          onChange={handleChange}\n        />\n        <label htmlFor=\"password\">Password</label>\n        <input\n          type=\"password\"\n          name=\"password\"\n          value={formData.password}\n          required\n          onChange={handleChange}\n        />\n        <button type=\"submit\">Login</button>\n      </form>\n\n      <button onClick={handleGoogleLogin}>google login</button>\n    </>\n  );\n};\n\nexport default Login;\n","import { Card, Button } from \"react-bootstrap\";\n// import { propTypes } from 'react-bootstrap/esm/Image';\n// import { propTypes } from 'react-bootstrap/esm/Image';\nimport { useHistory } from \"react-router-dom\";\n// import { useStore } from \"../store\";\n\nfunction UserCard(props) {\n  const history = useHistory();\n  return (\n    <Card style={{ width: \"18rem\" }}>\n      {/* <Card.Img variant=\"top\" src=\"holder.js/100px180\" /> */}\n      <Card.Body>\n        <Card.Title>{props.user.username}</Card.Title>\n        <Card.Text>{props.user.displayName}</Card.Text>\n        <div>About: {props.user.about}</div>\n        <div>About: {props.user.createdAt}</div>\n        <Button\n          onClick={() => history.push(`/users/${props.user.username}`)}\n          variant=\"primary\"\n        >\n          See user\n        </Button>\n      </Card.Body>\n    </Card>\n  );\n}\n\nexport default UserCard;\n","import { useState, useEffect } from 'react';\nimport UserCard from '../components/UserCard';\nimport { getUsers } from '../fetchRequests';\n\nfunction Users() {\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    getUsers()\n      .then((data) => {\n        setUsers(data.users)\n      })\n  }, [])\n\n  return (\n    <div>\n      <h1>Users List</h1>\n\n      {\n        users.map((user) => {\n          return <UserCard user={user} key={user.username} />\n        })\n      }\n    </div>\n  )\n}\n\nexport default Users;\n","import { useState, useEffect } from \"react\";\nimport { Form, Button, Container } from \"react-bootstrap\";\nimport { useStore } from \"../store\";\nimport { getUser, patchUser, putUserPicture } from \"../fetchRequests\";\n\nfunction User({ match }) {\n  const authUser = useStore((state) => state.user);\n  const [user, setUser] = useState({});\n  const [displayName, setDisplayName] = useState(\"\");\n  const [about, setAbout] = useState(\"\");\n  const [picture, setPicture] = useState({});\n\n  useEffect(() => {\n    // get user info\n    getUser(match.params.username).then((data) => {\n      setUser(data.user);\n      setDisplayName(data.user.displayName);\n      setAbout(data.user.about);\n    });\n  }, [match]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const newUserInfo = {\n      about,\n      displayName,\n    };\n    patchUser(authUser.token, user.username, newUserInfo).then((data) => {\n      setUser(data.user);\n    });\n  }\n\n  function handleSubmitPhoto(event) {\n    putUserPicture(\n      authUser.token,\n      authUser.username,\n      picture\n    ).then((response) => console.log(response));\n  }\n\n  return (\n    <Container>\n      <div>Display Name: {user.displayName}</div>\n      <div>Username: {user.username}</div>\n      <p>About Me:</p>\n      <p>{user.about}</p>\n\n      <Form onSubmit={handleSubmit}>\n        <Form.Group controlId=\"formBasicEmail\">\n          <Form.Label>About</Form.Label>\n          <Form.Control\n            onChange={(e) => setAbout(e.target.value)}\n            value={about}\n            type=\"text\"\n            placeholder=\"About me...\"\n          />\n        </Form.Group>\n        <Form.Group controlId=\"formBasicEmail\">\n          <Form.Label>Display Name</Form.Label>\n          <Form.Control\n            onChange={(e) => setDisplayName(e.target.value)}\n            value={displayName}\n            type=\"text\"\n            placeholder=\"my real name\"\n          />\n        </Form.Group>\n\n        <Button variant=\"primary\" type=\"submit\">\n          Submit\n        </Button>\n      </Form>\n\n      <input\n        type=\"file\"\n        onChange={(event) => setPicture(event.target.files[0])}\n      />\n      <button onClick={handleSubmitPhoto}>update my photo</button>\n      <img src={\"https://socialapp-api.herokuapp.com\" + user.pictureLocation} />\n    </Container>\n  );\n}\n\nexport default User;\n","import { Switch, Route, Link } from \"react-router-dom\";\nimport { Navbar, Nav } from \"react-bootstrap\";\n\nimport Home from \"./views/Home\";\nimport Login from \"./views/Login\";\nimport Users from \"./views/Users\";\nimport User from \"./views/User\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Navbar bg=\"light\" expand=\"lg\">\n        <Navbar.Brand>User Management Portal</Navbar.Brand>\n        <Nav className=\"mr-auto\">\n          <Nav.Link href=\"/\">Home</Nav.Link>\n          <Nav.Link href=\"/users\">Users</Nav.Link>\n          <Nav.Link href=\"/login\">Login</Nav.Link>\n        </Nav>\n      </Navbar>\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/login\" component={Login} />\n        <Route exact path=\"/users\" component={Users} />\n        <Route path=\"/users/:username\" render={(props) => <User {...props} />} />\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename=\"/crud-app-deploy-demo\">\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}